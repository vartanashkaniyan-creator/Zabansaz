<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head>
    <meta charset="UTF-8">
    <title>ØªØ³Øª Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø¯Ú©Ù…Ù‡ Vakamova</title>
    <style>
        body { font-family: system-ui; padding: 20px; background: #f5f5f5; }
        .test-area { background: white; padding: 20px; border-radius: 10px; margin: 20px 0; }
        .btn-container { display: flex; gap: 10px; flex-wrap: wrap; margin: 10px 0; padding: 10px; border: 1px dashed #ccc; }
        .log { background: #1a1a1a; color: #00ff00; padding: 10px; border-radius: 5px; margin-top: 20px; font-family: monospace; }
    </style>
</head>
<body>
    <h1>ğŸ§ª ØªØ³Øª Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Button</h1>
    
    <div class="test-area">
        <h3>Û±. Ø§Ù†ÙˆØ§Ø¹ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§:</h3>
        <div id="types-test" class="btn-container"></div>
    </div>
    
    <div class="test-area">
        <h3>Û². Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù:</h3>
        <div id="states-test" class="btn-container"></div>
        <button onclick="toggleLoading()">ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª Loading</button>
        <button onclick="toggleDisabled()">ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª Disabled</button>
    </div>
    
    <div class="test-area">
        <h3>Û³. Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§:</h3>
        <div id="events-test" class="btn-container"></div>
        <p>Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ø¯Ø± Ú©Ù†Ø³ÙˆÙ„ Ù…Ø±ÙˆØ±Ú¯Ø± (F12) Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</p>
    </div>
    
    <div class="log" id="log"></div>
    
    <script type="module">
        import { VakamovaButton, ButtonFactory } from '../components/Button.js';
        
        // Mock EventBus Ø¨Ø±Ø§ÛŒ ØªØ³Øª
        const mockEventBus = {
            emit: (event, data) => {
                console.log(`ğŸ¯ ${event}:`, data);
                document.getElementById('log').innerHTML += 
                    `<div>${new Date().toLocaleTimeString()} - ${event}</div>`;
            },
            on: () => () => {}
        };
        
        // ==================== ØªØ³Øª Û±: Ø§Ù†ÙˆØ§Ø¹ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ ====================
        const typesContainer = document.getElementById('types-test');
        const types = ['primary', 'secondary', 'success', 'warning', 'danger', 'ghost'];
        
        types.forEach(type => {
            const btn = new VakamovaButton({ eventBus: mockEventBus });
            btn.render(typesContainer, {
                type: type,
                text: `Ø¯Ú©Ù…Ù‡ ${type}`,
                size: 'md'
            });
        });
        
        // ==================== ØªØ³Øª Û²: Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù ====================
        const statesContainer = document.getElementById('states-test');
        
        // Ø¯Ú©Ù…Ù‡ Ø¹Ø§Ø¯ÛŒ
        const normalBtn = ButtonFactory.createPrimary('Ø¯Ú©Ù…Ù‡ Ø¹Ø§Ø¯ÛŒ', { eventBus: mockEventBus });
        normalBtn.render(statesContainer);
        
        // Ø¯Ú©Ù…Ù‡ loading
        const loadingBtn = ButtonFactory.createPrimary('Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ', { 
            eventBus: mockEventBus,
            loading: true 
        });
        loadingBtn.render(statesContainer);
        
        // Ø¯Ú©Ù…Ù‡ disabled
        const disabledBtn = ButtonFactory.createPrimary('ØºÛŒØ±ÙØ¹Ø§Ù„', { 
            eventBus: mockEventBus,
            disabled: true 
        });
        disabledBtn.render(statesContainer);
        
        // Ø¯Ú©Ù…Ù‡ Ø¨Ø§ Ø¢ÛŒÚ©ÙˆÙ†
        const iconBtn = ButtonFactory.createPrimary('Ø¨Ø§ Ø¢ÛŒÚ©ÙˆÙ†', {
            eventBus: mockEventBus,
            icon: 'â­',
            iconPosition: 'left'
        });
        iconBtn.render(statesContainer);
        
        // ==================== ØªØ³Øª Û³: Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ ====================
        const eventsContainer = document.getElementById('events-test');
        
        const eventBtn = new VakamovaButton({ eventBus: mockEventBus });
        eventBtn.render(eventsContainer, {
            text: 'Ú©Ù„ÛŒÚ© Ú©Ù† (ØªØ³Øª Ø±ÙˆÛŒØ¯Ø§Ø¯)',
            type: 'primary',
            onClick: (event, btnInstance) => {
                alert(`Ø¯Ú©Ù…Ù‡ ${btnInstance.getId()} Ú©Ù„ÛŒÚ© Ø´Ø¯!`);
            },
            onHover: (isHovering) => {
                console.log('Ù‡Ø§ÙˆØ± Ø´Ø¯ØŸ', isHovering);
            }
        });
        
        // ==================== ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ ====================
        window.toggleLoading = () => {
            loadingBtn.setLoading(!loadingBtn.isLoading());
        };
        
        window.toggleDisabled = () => {
            if (disabledBtn.isDisabled()) {
                disabledBtn.enable();
            } else {
                disabledBtn.disable();
            }
        };
        
        // Ú¯Ø²Ø§Ø±Ø´ Ù†Ù‡Ø§ÛŒÛŒ
        console.log('âœ… ØªØ³Øª Button Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
        mockEventBus.emit('test:button:loaded', { 
            buttonCount: types.length + 4,
            timestamp: new Date().toISOString() 
        });
    </script>
</body>
</html>
