<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head>
    <meta charset="UTF-8">
    <title>ØªØ³Øª Ø³Ø§Ø¯Ù‡ Button</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma; padding: 20px; background: #1a1a2e; color: white; }
        .container { max-width: 800px; margin: 0 auto; }
        .test-section { background: #16213e; padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid #0d7377; }
        .btn-area { display: flex; gap: 15px; flex-wrap: wrap; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 8px; }
        .log { background: #0f3460; padding: 15px; border-radius: 8px; margin-top: 20px; font-family: monospace; }
        .log-entry { padding: 5px 0; border-bottom: 1px solid rgba(255,255,255,0.1); color: #64ffda; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”˜ ØªØ³Øª Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Button</h1>
        <p>Ø§ÛŒÙ† ØªØ³Øª Ù…Ø³ØªÙ‚Ù„ØŒ Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Button Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯</p>
        
        <div class="test-section">
            <h3>Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡:</h3>
            <div id="button-container" class="btn-area">
                <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            </div>
        </div>
        
        <div class="test-section">
            <h3>Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§:</h3>
            <div style="display: flex; gap: 10px;">
                <button onclick="testClick()" style="padding: 10px 20px; background: #0d7377; color: white; border: none; border-radius: 5px;">
                    Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ ØªØ³Øª
                </button>
                <button onclick="testDisable()" style="padding: 10px 20px; background: #323a4d; color: white; border: none; border-radius: 5px;">
                    ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª ØºÛŒØ±ÙØ¹Ø§Ù„
                </button>
                <button onclick="testLoading()" style="padding: 10px 20px; background: #FF9800; color: black; border: none; border-radius: 5px;">
                    ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª Ù„ÙˆØ¯ÛŒÙ†Ú¯
                </button>
            </div>
        </div>
        
        <div class="test-section">
            <h3>Ú¯Ø²Ø§Ø±Ø´ Ø§Ø¬Ø±Ø§:</h3>
            <div id="log-area" class="log">
                <div class="log-entry">ğŸŸ¢ Ù…Ù†ØªØ¸Ø± Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª...</div>
            </div>
        </div>
    </div>
    
    <script>
        // ========== Ø³ÛŒØ³ØªÙ… Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ Ø³Ø§Ø¯Ù‡ ==========
        function log(message) {
            const logArea = document.getElementById('log-area');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.innerHTML = `[${new Date().toLocaleTimeString('fa-IR')}] ${message}`;
            logArea.prepend(entry);
            console.log(message);
        }
        
        // ========== Mock EventBus Ø¨Ø±Ø§ÛŒ ØªØ³Øª ==========
        const mockEventBus = {
            emit: (event, data) => {
                log(`ğŸ¯ <strong>${event}</strong>: ${JSON.stringify(data).substring(0, 80)}...`);
            },
            on: () => () => {}
        };
        
        // ========== Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Button ==========
        let testButton = null;
        
        async function loadButtonComponent() {
            try {
                // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø§Ú˜ÙˆÙ„ Button
                const module = await import('../components/Button.js');
                const { VakamovaButton } = module;
                
                log('âœ… Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Button Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
                
                // Ø³Ø§Ø®Øª ÛŒÚ© Ø¯Ú©Ù…Ù‡ ØªØ³Øª
                testButton = new VakamovaButton({ eventBus: mockEventBus });
                const container = document.getElementById('button-container');
                
                testButton.render(container, {
                    type: 'primary',
                    size: 'lg',
                    text: 'Ø¯Ú©Ù…Ù‡ ØªØ³Øª Vakamova',
                    icon: 'ğŸš€',
                    onClick: (event, btn) => {
                        alert('âœ… Ø¯Ú©Ù…Ù‡ Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯!');
                    }
                });
                
                log('âœ… Ø¯Ú©Ù…Ù‡ ØªØ³Øª Ø³Ø§Ø®ØªÙ‡ Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯');
                log(`ğŸ”§ Ø´Ù†Ø§Ø³Ù‡ Ø¯Ú©Ù…Ù‡: ${testButton.getId()}`);
                
                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú†Ù†Ø¯ Ø¯Ú©Ù…Ù‡ Ù†Ù…ÙˆÙ†Ù‡ Ø¯ÛŒÚ¯Ø±
                const btnTypes = ['primary', 'secondary', 'success', 'warning', 'danger', 'ghost'];
                btnTypes.forEach(type => {
                    const btn = new VakamovaButton({ eventBus: mockEventBus });
                    btn.render(container, {
                        type: type,
                        text: type,
                        size: 'md',
                        onClick: () => log(`Ø¯Ú©Ù…Ù‡ ${type} Ú©Ù„ÛŒÚ© Ø´Ø¯`)
                    });
                });
                
            } catch (error) {
                log(`âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ: ${error.message}`);
                document.getElementById('button-container').innerHTML = 
                    `<div style="color: #ff5252; padding: 20px; background: rgba(255,82,82,0.1); border-radius: 8px;">
                        Ø®Ø·Ø§: ${error.message}<br>
                        Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„ Button.js Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯
                    </div>`;
            }
        }
        
        // ========== ØªÙˆØ§Ø¨Ø¹ ØªØ³Øª ==========
        function testClick() {
            if (!testButton) {
                alert('Ø§Ø¨ØªØ¯Ø§ Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ø±Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯');
                return;
            }
            log('ğŸ–±ï¸ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡...');
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ù„ÛŒÚ©
            const btnElement = testButton.getElement();
            if (btnElement) btnElement.click();
        }
        
        function testDisable() {
            if (!testButton) return;
            const isDisabled = testButton.isDisabled();
            if (isDisabled) {
                testButton.enable();
                log('âœ… Ø¯Ú©Ù…Ù‡ ÙØ¹Ø§Ù„ Ø´Ø¯');
            } else {
                testButton.disable();
                log('â›” Ø¯Ú©Ù…Ù‡ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø´Ø¯');
            }
        }
        
        function testLoading() {
            if (!testButton) return;
            const isLoading = testButton.isLoading();
            testButton.setLoading(!isLoading);
            log(`ğŸ”„ Ø­Ø§Ù„Øª Ù„ÙˆØ¯ÛŒÙ†Ú¯: ${!isLoading ? 'ÙØ¹Ø§Ù„' : 'ØºÛŒØ±ÙØ¹Ø§Ù„'}`);
        }
        
        // ========== Ø§Ø¬Ø±Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ==========
        document.addEventListener('DOMContentLoaded', () => {
            log('ğŸ”§ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Button...');
            setTimeout(loadButtonComponent, 500);
        });
    </script>
</body>
</html>
