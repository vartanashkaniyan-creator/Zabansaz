<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Øª ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ ÙØ§Ø² Û± - HyperLang</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        .status { padding: 15px; border-radius: 8px; margin: 15px 0; display: none; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .loading { background: #fff3cd; color: #856404; border: 1px solid #ffeaa7; }
        button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
        button:hover { background: #0056b3; }
        .module { margin: 5px 0; padding: 8px; background: #f8f9fa; border-radius: 4px; }
    </style>
</head>
<body>
    <h2>ğŸ”§ ØªØ³Øª ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ ÙØ§Ø² Û± - HyperLang</h2>
    <p>Ø§ÛŒÙ† ØµÙØ­Ù‡ Û±Ûµ ÙØ§ÛŒÙ„ Ù‡Ø³ØªÙ‡ Ø§ØµÙ„ÛŒ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p>
    
    <div id="status" class="status loading">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§...</div>
    
    <div id="moduleList"></div>
    
    <button onclick="runIntegrationTest()">Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª</button>
    <button onclick="clearConsole()">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú©Ù†Ø³ÙˆÙ„</button>
    
    <script type="module">
        async function runIntegrationTest() {
            const status = document.getElementById('status');
            const moduleList = document.getElementById('moduleList');
            
            status.className = 'status loading';
            status.style.display = 'block';
            status.textContent = 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§...';
            moduleList.innerHTML = '';
            
            const modules = [
                { name: 'Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¶Ø¹ÛŒØª', path: './core/state-manager.js' },
                { name: 'Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø´Ø³Øª', path: './core/session-manager.js' },
                { name: 'ØªØ²Ø±ÛŒÙ‚ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§', path: './core/context-provider.js' },
                { name: 'Ø³ÛŒØ³ØªÙ… Ø±ÙˆÛŒØ¯Ø§Ø¯', path: './core/event-bus.js' },
                { name: 'Ø°Ø®ÛŒØ±Ù‡ ÙˆØ¶Ø¹ÛŒØª', path: './core/state-persistence.js' },
                { name: 'Ù…Ù‡Ø§Ø¬Ø±Øª ÙˆØ¶Ø¹ÛŒØª', path: './core/state-migrations.js' },
                { name: 'ØµÙ Ø¢ÙÙ„Ø§ÛŒÙ†', path: './core/offline-queue.js' },
                { name: 'Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ', path: './core/real-time-sync.js' },
                { name: 'Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ ÙˆØ¶Ø¹ÛŒØª', path: './core/state-validator.js' },
                { name: 'Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯', path: './core/state-monitor.js' },
                { name: 'Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ', path: './core/state-backup.js' },
                { name: 'Ø§Ø¨Ø²Ø§Ø± Ø¯ÛŒØ¨Ø§Ú¯', path: './core/state-debug.js' },
                { name: 'Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²', path: './core/state-optimizer.js' },
                { name: 'Ø§Ù…Ù†ÛŒØª ÙˆØ¶Ø¹ÛŒØª', path: './core/state-security.js' },
                { name: 'Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ú©Ù…Ú©ÛŒ', path: './core/state-utils.js' }
            ];
            
            let successCount = 0;
            let errorCount = 0;
            
            for (const module of modules) {
                const moduleDiv = document.createElement('div');
                moduleDiv.className = 'module';
                moduleDiv.textContent = `ğŸ“¦ ${module.name}...`;
                moduleList.appendChild(moduleDiv);
                
                try {
                    // ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ import Ù…Ø§Ú˜ÙˆÙ„
                    const moduleObj = await import(module.path);
                    moduleDiv.textContent = `âœ… ${module.name} - Ù„ÙˆØ¯ Ø´Ø¯`;
                    console.log(`âœ… ${module.name}:`, moduleObj);
                    successCount++;
                } catch (error) {
                    moduleDiv.textContent = `âŒ ${module.name} - Ø®Ø·Ø§: ${error.message}`;
                    console.error(`âŒ ${module.name}:`, error);
                    errorCount++;
                }
            }
            
            if (errorCount === 0) {
                status.className = 'status success';
                status.innerHTML = `
                    âœ… ØªØ³Øª ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÙˆÙÙ‚!
                    <br>ØªÙ…Ø§Ù… ${successCount} Ù…Ø§Ú˜ÙˆÙ„ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ù„ÙˆØ¯ Ø´Ø¯Ù†Ø¯.
                    <br>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ù‡ ÙØ§Ø² Ø¨Ø¹Ø¯ÛŒ Ø¨Ø±ÙˆÛŒØ¯.
                `;
                
                // ØªØ³Øª Ø§ÙˆÙ„ÛŒÙ‡ Ø¹Ù…Ù„Ú©Ø±Ø¯
                setTimeout(() => {
                    console.log('ğŸ‰ ØªØ³Øª Ú©Ø§Ù…Ù„ Ø´Ø¯! Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ù‡ Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ù‡ÛŒØ¯.');
                    alert('âœ… ØªØ³Øª ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!');
                }, 500);
            } else {
                status.className = 'status error';
                status.innerHTML = `
                    âŒ ${errorCount} Ù…Ø§Ú˜ÙˆÙ„ Ø¨Ø§ Ø®Ø·Ø§ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯Ù†Ø¯.
                    <br>${successCount} Ù…Ø§Ú˜ÙˆÙ„ Ù…ÙˆÙÙ‚ØŒ ${errorCount} Ù…Ø§Ú˜ÙˆÙ„ Ù†Ø§Ù…ÙˆÙÙ‚.
                    <br>Ù„Ø·ÙØ§ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ú©Ù†Ø³ÙˆÙ„ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯.
                `;
            }
        }
        
        function clearConsole() {
            console.clear();
            console.log('ğŸš€ Ú©Ù†Ø³ÙˆÙ„ Ù¾Ø§Ú© Ø´Ø¯. Ø¢Ù…Ø§Ø¯Ù‡ ØªØ³Øª...');
        }
        
        // Ø§Ø¬Ø±Ø§ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± ØªØ³Øª Ø¨Ø¹Ø¯ Ø§Ø² Ù„ÙˆØ¯ ØµÙØ­Ù‡
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸŒ ØµÙØ­Ù‡ ØªØ³Øª ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ HyperLang Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª.');
            console.log('Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ ØªØ³Øª Ø¯Ú©Ù…Ù‡ "Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øª" Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯.');
        });
    </script>
</body>
</html>
